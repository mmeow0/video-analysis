# Video Stream Tampering Detection System

## Описание проекта

Данная система предназначена для обнаружения подмены видеопотока и нежелательного контента с использованием машинного обучения. Система анализирует видеопоток и сравнивает его с заранее переданными метаданными, чтобы убедиться в целостности видео. Также реализован вариант для детектирования нежелательного контента, такого как запрещенные объекты или сцены.

Проект разработан с использованием Python и OpenCV для анализа видео, а также нейронных сетей для детекции объектов и классификации нежелательного контента.

## Основные возможности

1. **Обнаружение подмены видеопотока**:
    - Сравнение видео с переданными метаданными, включающими средние цветовые профили, движение объектов и обнаруженные объекты на кадрах.
    - При выявлении несовпадений система сигнализирует о возможной подмене.

2. **Обнаружение нежелательного контента**:
    - Использует предобученные нейронные сети для классификации объектов в кадре.
    - Обнаруживает присутствие нежелательного контента, например, оружия, сигарет или других запрещенных предметов. (к примеру, если поток предназначен для детей)

3. **Гибкость настройки**:
    - Пользователь может выбрать тип обнаружения:
        - Сравнение с метаданными для детектирования подмены.
        - Поиск нежелательного контента в реальном времени.

## Установка и настройка

### Требования

- Python 3.7+
- OpenCV
- TensorFlow или PyTorch (по необходимости)
- ffmpeg

### Установка зависимостей

Установите необходимые зависимости с помощью pip:

```bash
pip install opencv-python
pip install tensorflow  # или pip install torch, если используете PyTorch
```

### Убедитесь, что у вас установлен ffmpeg. 

## Установка моделей

Скачайте файлы модели для детекции объектов (MobileNet-SSD):

```bash
    deploy.prototxt
    res10_300x300_ssd_iter_140000_fp16.caffemodel
```

Эти файлы можно скачать здесь: https://github.com/chuanqi305/MobileNet-SSD и поместить их в папку проекта.
Запуск

После установки всех зависимостей, вы можете запустить систему:

## Запуск

После установки всех зависимостей, вы можете запустить систему:

```bash
python main.py
```

Перед запуском, не забудьте задать путь к видео в файле main.py:

```bash
video_path = 'your_video.mp4'  # Путь к видеофайлу
```

## Использование

### Режим 1: Сравнение метаданных

В этом режиме система анализирует видео и сравнивает его с метаданными, предоставленными отправителем. Это позволяет определить, была ли выполнена подмена видео.

Метаданные включают:

    Средний цветовой профиль: Проверка на значительные изменения цвета.
    Движение объектов: Сравнение движений в кадре с ожидаемыми.
    Обнаруженные объекты: Сравнение списка объектов в кадре с теми, которые должны присутствовать согласно метаданным.

При обнаружении несоответствий система сигнализирует о возможной подмене.

### Режим 2: Обнаружение нежелательного контента

Этот режим предназначен для обнаружения запрещённых или нежелательных объектов в видео. Система использует нейронную сеть для детекции объектов и классификации их на основе заранее настроенных критериев (например, обнаружение оружия, сигарет или других запрещенных элементов).

Пример вывода:

    "Обнаружен запрещенный объект: оружие."
    "Обнаружено движение, несоответствующее метаданным."

## Важные детали системы

Безопасность передачи метаданных:

    Метаданные передаются по зашифрованному каналу (например, с использованием TLS/SSL) для предотвращения их изменения злоумышленниками.
    Возможность проверки целостности метаданных с помощью цифровой подписи или хэширования.

Точность системы:

    Использование различных порогов для сравнения метаданных и реального видео позволяет гибко настраивать точность и чувствительность системы.
    Оптимизация модели для работы с реальными видеопотоками, поддержка различных разрешений и фреймрейтов.

Обнаружение сцен:

    В будущем можно добавить детекцию контекстов или сцен, чтобы более точно определять, какие объекты появляются в кадре. Например, если в кадре показываются сцены с высоким уровнем агрессии, система сможет сигнализировать о потенциальной угрозе.

Поддержка разных форматов:

    Система может быть расширена для работы с различными форматами видео (MP4, MKV, AVI) и видеопотоками с использованием библиотек, таких как GStreamer.

## Примеры использования

Безопасность видеонаблюдения: система может быть использована для обеспечения безопасности в видеонаблюдении, чтобы предотвратить подмену записей.
Контроль качества трансляций: в случае прямых трансляций можно убедиться, что видео не было подменено, например, во время важных мероприятий.
Фильтрация контента: система может использоваться для автоматической фильтрации нежелательного контента на видеоплатформах.